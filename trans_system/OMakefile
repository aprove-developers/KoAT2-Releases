USE_OCAMLFIND = true

OCAMLPACKS[] =
    ocamlgraph

OCAMLINCLUDES += ../poly

NATIVE_ENABLED = true
BYTE_ENABLED = true

OCamlGeneratedFiles(parser.ml lexer.ml)
OCAML_LIBS += ../poly/poly

FILES[] =
    Locations
    Transitions
    TransitionGraph

LIB = transitionsystem

OCamlLibrary($(LIB), $(FILES))

.DEFAULT: $(OCamlLibrary $(LIB), $(FILES))

clean:
  rm -f \
     *.omc \
     $(filter-proper-targets $(glob $(addsuffix .*, $(FILES)))) \
     $(LIB).a $(LIB).cmxa $(LIB).cma \
     *~