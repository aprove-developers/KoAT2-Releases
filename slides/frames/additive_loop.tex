\begin{figure}
  \centering
  \begin{tikzpicture}[program]
    
    \node (0) {$\location_0$};
    \node (1) [right of=0] {$\location_1$};
    
    \path[transitions]
    (0) edge node[highlight on=<7-8>, above] {$t_0$} node[below] {$x \coloneqq x$\\\nodeshow{2-}{$y \coloneqq y$}\\\nodeshow{3-}{$z \coloneqq z$}} (1)
    (1) edge[loop above] node[highlight on=<6>, highlight on=<9>, above left] {$t_1$} node[above tlabel] {$if(x > 0)$\\$x \coloneqq x - 1$\\\nodeshow{2-}{$y \coloneqq y$}\\\nodeshow{3-}{$z \coloneqq \alt<6-7>{\textcolor{blue}{z}}{z} + \alt<8-9>{\textcolor{blue}{y}}{y}$}} (1)
    ;
  \end{tikzpicture}

  \onslide<4->{$\USize(t_1,z)$}
  
  \onslide<5->{
    \begin{tikzpicture}[rvg]
      
      \node (0z) [show on=<7->, highlight on=<7>] {$t_0,z$};
      \node (1z) [show on=<5->, right of=0z] {$t_1,z$};
      \node (0y) [show on=<8->, highlight on=<8>, right of=1z] {$t_0,y$};
      \node (1y) [show on=<9->, highlight on=<9>, below of=1z] {$t_1,y$};
      
      \path
      (0z) edge[show on=<7->, highlight on=<7>] (1z)
      (0y) edge[show on=<8->, highlight on=<8>] (1z)
      (1z) edge[show on=<6->, highlight on=<6>, loop above, scc edge] (1z)
      (1y) edge[show on=<9->, highlight on=<9>] (1z)
      ;
    \end{tikzpicture}
  }
\end{figure}
