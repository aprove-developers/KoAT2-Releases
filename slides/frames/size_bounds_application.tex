\begin{center}
  \begin{tikzpicture}[program]
    \node (0) {$\location_0$};
    \node (1) [right of=0] {$\location_1$};
    \node (2) [right of=1] {$\location_2$};

    \path[transitions]
    (0) edge node[highlight on=<11-12>, above] {$t_0$} node[below] {\textcolor<3>{blue}{$x \coloneqq x$}\\\textcolor<5>{blue}{$y \coloneqq y$}} node[below=0.8cm] {\nodeshow{3-}{\textcolor<3-4>{blue}{$\USize(t_0,x) = x$}}\\\nodeshow{5-}{\textcolor<5-6>{blue}{$\LSize(t_0,y) = y$}}} (1)
    (1) edge[highlight on=<7>, loop above] node[highlight on=<13-14>, above left] {$t_1$} node[above tlabel] {\textcolor<7>{blue}{$if(x<10)$}\\\textcolor<7>{blue}{$x \coloneqq x+1$}\\\textcolor<9>{blue}{$y \coloneqq y$}} node[above left=-0.2cm and 0.5cm] {\nodeshow{7-}{\textcolor<7-8>{blue}{$\USize(t_1,x) = 10$}}\\\nodeshow{9-}{\textcolor<9-10>{blue}{$\LSize(t_1,y) = y$}}} (1)
    (1) edge node[above] {$t_2$} node[below] {$if(x \geq 10)$\\$x \coloneqq x$\\$y \coloneqq y$} (2)
    (2) edge[loop above] node[above left] {$t_3$} node[above tlabel] {$if(x>y)$\\$x \coloneqq x-1$\\$y \coloneqq y$} (2)
    ;
  \end{tikzpicture}
\end{center}

\begin{align*}
  \UTime(t_3) &
  \makebox[0.5cm][c]{
    $=$
  }
  \makebox[2.5cm][l]{
    $\alt<12->{\textcolor<12>{blue}{1}}{\textcolor<11>{blue}{\UTime(t_0)}}$
  }
  \makebox[0.5cm][c]{
    $\cdot$
  }
  \makebox[5cm][l]{
    $
    \max (0,
    \makebox[1.5cm][l]{
      $\alt<-3>{\textcolor<2,3>{blue}{\USize(t_0,x)}}{\textcolor<4>{blue}{x}}$
    }
    \makebox[0.5cm][c]{
      $-$
    }
    \makebox[1.5cm][l]{
      $\alt<-5>{\textcolor<2,5>{blue}{\LSize(t_0,y)}}{\textcolor<6>{blue}{y}})$
    }
    $
  }
  \\
  &
  \makebox[0.5cm][c]{
    $+$
  }
  \makebox[2.5cm][l]{
    $\alt<14->{\textcolor<14>{blue}{\max(0,10-x)}}{\textcolor<13>{blue}{\UTime(t_1)}}$
  }
  \makebox[0.5cm][c]{
    $\cdot$
  }
  \makebox[4cm][l]{
    $
    \max (0,
    \makebox[1.5cm][l]{
      $\alt<-7>{\textcolor<2,7>{blue}{\USize(t_1,x)}}{\textcolor<8>{blue}{10}}$
    }
    \makebox[0.5cm][c]{
      $-$
    }
    \makebox[1.5cm][l]{
      $\alt<-9>{\textcolor<2,9>{blue}{\LSize(t_1,y)}}{\textcolor<10>{blue}{y}})$
    }
    $
  }
  \\
\end{align*}
